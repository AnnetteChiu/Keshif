<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Nashville Building Permits</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="../js/d3.3.5.5.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="../keshif.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/papaparse.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="../keshif.css"/ type="text/css">
    <link rel="stylesheet" href="../font-awesome/css/font-awesome.min.css">

    <script type="text/javascript" src="./js/demo.js" charset="utf-8"></script>
    <link rel="stylesheet" href="./css/demo.css" type="text/css">

    <script type="text/javascript">
google.setOnLoadCallback(function(){
  var dateFormat = d3.time.format("%m/%d/%y");
  browser = new kshf.Browser({
    domID: "#demo_Browser",
    itemName: "Permits",
    barChartWidth: 90,
    leftPanelLabelWidth: 200,
    rightPanelLabelWidth: 250,
    source: {
      url: "https://data.nashville.gov/Development-and-Housing/Building-Permits-Official/3h5w-q8b7",
      dirPath: 'https://ca480fa8cd553f048c65766cc0d0f07f93f6fe2f.googledrive.com/host/0By6LdDWgaqgNfmpDajZMdHMtU3FWTEkzZW9LTndWdFg0Qk9MNzd0ZW9mcjA4aUJlV0p1Zk0/',
      fileType: "csv",
      tables: "NashvilleBuildingPermits"
    },
    summaries: [
      { name: "City" },
      { name: "Contact",
        catLabel: function(){ return kshf.Util.toProperCase(this.id); }},
      { name: "Permit Type", value: "Permit Type Description", panel: "right",
        catLabel: function(){ return kshf.Util.toProperCase(this.id); } },
      { name: "Construction Cost", value: "Const. Cost", unitName: "$", panel: "middle" },
      { name: "ZipCode", value: "Zip", type: "categorical", collapsed: true },
      { name: "Date Issued", value: function(){ return dateFormat.parse(this["Date Issued"]); }, panel: "bottom" }
    ],
    recordDisplay:{
      sortColWidth: 65,
      sortBy: 'Date Issued',
      recordView: "Address",
    }
  });
});
    </script>
  </head>
  <body>
    <div class="contents">
      <div id="demo_PageTitle">Nashville Building Permits, 2015</div>
      <div id="demo_Browser"></div>
      <div id="demo_Infobox"> Data from
        <a href='https://data.nashville.gov/Development-and-Housing/Building-Permits-Official/3h5w-q8b7' target='_blank'>
        data.nashville.gov</a>. Re-Vis from <a href='http://cmvee.github.io/Nashville-Building-Permits' target='_blank'>
          cmvee.github.io/Nashville-Building-Permits</a>.
        </div>
      </div>
  </body>
</html>